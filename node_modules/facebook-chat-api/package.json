{
  "name": "facebook-chat-api",
  "version": "1.0.4",
  "description": "Facebook chat API that doesn't rely on XMPP.  Will NOT be deprecated April 30th 2015.",
  "main": "server.js",
  "scripts": {
    "test": "node_modules/.bin/mocha",
    "start": "node server.js"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/Schmavery/facebook-chat-api.git"
  },
  "keywords": [
    "facebook",
    "chat",
    "api"
  ],
  "bugs": {
    "url": "https://github.com/Schmavery/facebook-chat-api/issues"
  },
  "author": {
    "name": "Avery, David, Maude, Benjamin"
  },
  "license": "MIT",
  "dependencies": {
    "bluebird": "^2.9.27",
    "cheerio": "^0.19.0",
    "npmlog": "^1.2.0",
    "request": "^2.53.0"
  },
  "engines": {
    "node": "4.x"
  },
  "devDependencies": {
    "mocha": "^2.2.5"
  },
  "readme": "# Quick Start Guide\nThe Official Facebook Chat API uses XMPP and is deprecated as of April 30th 2015. This is a non-official API that doesn't use XMPP.\nAs of right now, the only way to automate the chat functionalities is to emulate the browser. This means doing the exact same GET/POST requests and tricking Facebook into thinking we're accessing the website normally. Because we're doing it this way, this API won't work with an auth token but requires the credentials of a Facebook account.\n\nCool projects using facebook-chat-api: \n- [Kassy](https://github.com/mrkno/Kassy) - Kassy is a modular, easily extensible general purpose chat bot\n- [Marc Zuckerbot](https://github.com/bsansouci/marc-zuckerbot) - Facebook chat bot\n- [Marc Thuckerbot](https://github.com/bsansouci/lisp-bot) - Programmable lisp bot\n\n## Install\n```bash\nnpm install facebook-chat-api\n```\n\n## Example Usage\n```javascript\nvar login = require(\"facebook-chat-api\");\n\n// Create simple echo bot\nlogin({email: \"FB_EMAIL\", password: \"FB_PASSWORD\"}, function callback (err, api) {\n    if(err) return console.error(err);\n\n    api.listen(function callback(err, message) {\n        api.sendMessage(message.body, message.threadID);\n    });\n});\n```\n\n## Documentation\n\n* [`login`](DOCS.md#login)\n* [`api.addUserToGroup`](DOCS.md#addUserToGroup)\n* [`api.changeArchivedStatus`](DOCS.md#changeArchivedStatus)\n* [`api.deleteMessage`](DOCS.md#deleteMessage)\n* [`api.getCurrentUserID`](DOCS.md#getCurrentUserID)\n* [`api.getFriendsList`](DOCS.md#getFriendsList)\n* [`api.getOnlineUsers`](DOCS.md#getOnlineUsers)\n* [`api.getThreadHistory`](DOCS.md#searchForThread)\n* [`api.getThreadList`](DOCS.md#getThreadList)\n* [`api.getUserID`](DOCS.md#getUserID)\n* [`api.getUserInfo`](DOCS.md#getUserInfo)\n* [`api.listen`](DOCS.md#listen)\n* [`api.logout`](DOCS.md#logout)\n* [`api.markAsRead`](DOCS.md#markAsRead)\n* [`api.removeUserFromGroup`](DOCS.md#removeUserFromGroup)\n* [`api.searchForThread`](DOCS.md#searchForThread)\n* [`api.sendMessage`](DOCS.md#sendMessage)\n* [`api.sendTypingIndicator`](DOCS.md#sendTypingIndicator)\n* [`api.setOptions`](DOCS.md#setOptions)\n* [`api.setTitle`](DOCS.md#setTitle)\n\n## Main Functionality\n\n### Sending a message\n#### api.sendMessage(message, threadID, [callback])\n\nVarious types of message can be sent:\n* *Regular:* set field `body` to the desired message as a string.\n* *Sticker:* set a field `sticker` to the desired sticker ID.\n* *File or image:* Set field `attachment` to a readable stream or an array of readable streams.\n* *URL:* set a field `url` to the desired URL.\n\nNote that a message can only be a regular message (which can be empty) and optionally one of the following: a sticker, an attachment or a url.\n\n__Tip__: to find your own ID, you can look inside the cookies. The `userID` is under the name `c_user`.\n\n__Example (Basic Message)__\n```js\nlogin({email: \"FB_EMAIL\", password: \"FB_PASSWORD\"}, function callback (err, api) {\n    if(err) return console.error(err);\n\n    var yourID = 0000000000000;\n    var msg = {body: \"Hey!\"};\n    api.sendMessage(msg, yourID);\n});\n```\n\n__Example (File upload)__\n```js\nlogin({email: \"FB_EMAIL\", password: \"FB_PASSWORD\"}, function callback (err, api) {\n    if(err) return console.error(err);\n\n    // Note this example uploads an image called image.jpg\n    var yourID = 0000000000000;\n    var msg = {\n      body: \"Hey!\",\n      attachment: fs.createReadStream(__dirname + '/image.jpg')\n    }\n    api.sendMessage(msg, yourID);\n});\n```\n\n------------------------------------\n\n### Listening to a chat\n#### api.listen(callback)\n\nListen watches for messages sent in a chat. By default this won't receive events (joining/leaving a chat, title change etc...) but it can be activated with `api.setOptions({listenEvents: true})`.\n\n__Example__\n\n```js\n// Simple echo bot. He'll repeat anything that you say.\n// Will stop when you say '/stop'\n\nlogin({email: \"FB_EMAIL\", password: \"FB_PASSWORD\"}, function callback (err, api) {\n    if(err) return console.error(err);\n\n    api.setOptions({listenEvents: true});\n\n    var stopListening = api.listen(function(err, event) {\n        if(err) return console.error(err);\n\n        switch(event.type) {\n          case \"message\":\n            if(event.body === '/stop') {\n              api.sendMessage(\"Goodbye...\", event.threadID);\n              return stopListening();\n            }\n            api.markAsRead(event.threadID, function(err) {\n              if(err) console.log(err);\n            });\n            api.sendMessage(\"TEST BOT: \" + event.body, event.threadID);\n            break;\n          case \"event\":\n            console.log(event);\n            break;\n        }\n    });\n});\n```\n\n## FAQS\n\n1. How do I run tests?\n\nFor tests, create a `test-config.json` file that resembles `example-config.json` and put it in the `test` directory. From the root directory, run `npm test`.\n\n2. Why doesn't `sendMessage` always work when I'm logged in as a page?\nPages can't start conversations with users directly; this is to prevent pages from spamming users.\n\n3. What do I do when `login` doesn't work?\nFirst check that you can login to Facebook using the website or app. If login approvals are enabled, you might be logging in incorrectly. For how to handle login approvals, read our docs on [`login`](DOCS.md#login).\n",
  "readmeFilename": "README.md",
  "_id": "facebook-chat-api@1.0.4",
  "_from": "facebook-chat-api@"
}
